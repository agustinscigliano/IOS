//
//  Sparkle.m
//  Cocos2DSimpleGame
//
//  Created by German Romarion on 19/6/15.
//  Copyright (c) 2015 Razeware LLC. All rights reserved.
//

#import <Foundation/Foundation.h>
#import "Sparkle.h"
#import "Constants.h"

@implementation Sparkle {
    int frame_number;
}

- (id) init {
    self = [self initWithImageNamed: SPARKLE_IMAGE];
    frame_number = 1;
    self.positionType = CCPositionTypeNormalized;
    self.position = ccp(0.5, 0.5);
    self.scale = SPARKLE_SCALE;
    [self schedule:@selector(animate:) interval:0.05];
    return self;
}

- (void) animate:(CCTime)dt {
    frame_number++;
    if (frame_number == MAX_FRAMES_FOR_MUZZLE)
        [self removeFromParent];
}

@end
